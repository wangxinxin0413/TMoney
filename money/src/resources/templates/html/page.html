<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>文件上传</h1>
	<form th:action="@{/file/upload}" method="post" enctype="multipart/form-data">
		<p>请选择文件：<input multiple name="files" type="file"></p>
		<input type="submit"><input type="button" value="ajax文件上传">
	</form>
	<form th:action="@{/file/excelUpload}" method="post" enctype="multipart/form-data">
		<p>请选择文件：<input name="file" type="file"></p>
		<input type="submit" value="上传excel"><input type="button" value="上传excel">
	</form>
	<a th:href="@{/file/download}"> 下载文件</a>
	
	<script type="text/javascript" th:src="@{/js/jquery-1.12.4.js}"></script>
	<script>
		$(function(){
			$("[type=button]").click(function(){
				var formData = new FormData($("form")[0]);
				/* var files = $("[name=files]")[0].files;
				for(var i=0;i<files.length;i++){
					formData.append("files",files[i]);
				} */
				$.ajax({
					url:"[[@{/file/uploadAjax}]]",
					data:formData,
					type:"post",
					processData:false,
					contentType:false,
					success:function(result){
						alert(result);
					}
				});
			});			
		})
	</script>
</body>
</html>